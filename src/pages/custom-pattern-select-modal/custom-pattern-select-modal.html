<!--
  Generated template for the CustomPatternSelectModalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
  <ion-buttons start>
  	<button ion-button icon-only (click)="closeChooseCustomPatternModal()">
        <ion-icon name="close"></ion-icon>
      </button>
  </ion-buttons>
    <ion-title>
      {{title}}
    </ion-title>
    <ion-buttons end>
    	<button ion-button icon-only *ngIf="editMode == 0 && addMode == 0" (click)="editModeToggle()">
        <ion-icon name="create"></ion-icon>
      </button>
      <button ion-button icon-only *ngIf="editMode == 1 || addMode == 1" (click)="openCustomPatternModal()">
        <ion-icon name="add-circle"></ion-icon>
      </button>
      <button ion-button icon-only *ngIf="editMode == 1 || addMode == 1" (click)="deleteAllInstructions()">
        <ion-icon name="trash"></ion-icon>
      </button>
      <button ion-button icon-only (click)="dropTables()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <h2>Instructions</h2>
  <button ion-button class="secondary" color="primary" *ngIf="editMode == 0 && addMode == 0" (click) ="setPattern()">Set</button>
  <button ion-button color="primary" *ngIf="editMode == 1 || addMode == 1" (click)="saveCustomPattern()">Save</button>
  <button ion-button color="primary" *ngIf="editMode == 1 || addMode == 1" (click)="cancelEdit()">Cancel</button>
  <ion-list>
    <ion-item-sliding *ngFor="let instruction of allInstructions; let i=index">
      <ion-item nopadding>
        <p>
          Id: {{instruction.instructionId}}<br>
          Type: {{instruction.patternType}}<br>
          Row: {{instruction.patternRow}}<br>
          Col: {{instruction.patternCol}}
        </p>
        <button ion-button icon-only *ngIf="editMode == 1 || addMode == 1" (click)="deleteOneInstruction(instruction.instructionId)">
        <ion-icon name="remove-circle"></ion-icon>
      </button>
      </ion-item>
      
    </ion-item-sliding>
  </ion-list>
</ion-content>
