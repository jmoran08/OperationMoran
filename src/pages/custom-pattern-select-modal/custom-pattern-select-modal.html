<!--
  Generated template for the CustomPatternSelectModalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
  <ion-buttons start>
  	<button ion-button *ngIf="editMode == 1 || addMode == 1" (click)="cancelEdit()">
        Cancel
      </button>
      <button ion-button *ngIf="editMode == 0 && addMode == 0" (click)="closeChooseCustomPatternModal()">
          Close
        </button>
  </ion-buttons>
    <ion-title>
      {{title}}
    </ion-title>
    <ion-buttons end>
    	<button ion-button icon-only *ngIf="editMode == 0 && addMode == 0" (click)="editModeToggle()">
        <ion-icon name="create"></ion-icon>
      </button>
      <button ion-button *ngIf="editMode == 1 || addMode == 1" (click)="saveCustomPattern()">
          Save
        </button>
      <!--<button ion-button icon-only (click)="dropTables()">
        <ion-icon name="close"></ion-icon>
      </button>-->
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="container">
    <ion-label class="labelClass" position="fixed" *ngIf="editMode == 1 || addMode == 1" >Pattern Name:</ion-label>
    <ion-input class="inputClass" value="" [(ngModel)]="customPatternName" placeholder="Pattern Name" *ngIf="editMode == 1 || addMode == 1"></ion-input>
  <h2 class="header">Instructions</h2>
  <button ion-button class="fullWidthButton" color="primary" *ngIf="editMode == 0 && addMode == 0 && allInstructions.length > 0" (click) ="setPattern()">Select</button>
  <ion-card class="instructionCard" *ngFor="let instruction of allInstructions; let i=index">
    <ion-card-header>
      <ion-card-title class="title">
        Id: {{instruction.instructionId}}
        Type: {{instruction.patternType}}
        Row: {{instruction.patternRow}}
        Col: {{instruction.patternCol}}
      <button class="cardButton">
        <ion-icon name="remove-circle" *ngIf="editMode == 1 || addMode == 1" (click)="deleteOneInstruction(instruction.instructionId)"></ion-icon>
      </button>
      </ion-card-title>
    </ion-card-header>

    <ion-card-content>

    </ion-card-content>

  </ion-card>
  <div class="noInstructionsMessage" *ngIf="allInstructions.length == 0" >There are no instructions for this pattern.</div>
  <button ion-button class="fullWidthButton" *ngIf="(editMode == 1 || addMode == 1) && allInstructions.length > 0" (click)="deleteAllInstructions()">
    Delete All Instructions
  </button>
  <button ion-button class="fullWidthButton" (click)="deletePattern(pattern.patternId)">
    Delete Pattern
  </button>
  <ion-fab bottom right class="fabContainer">
   <button ion-fab *ngIf="editMode == 1 || addMode == 1" (click)="openCustomPatternModal()" class="fabButton">
     <ion-icon name="add" class="fabIcon"></ion-icon>
   </button>
 </ion-fab>
</ion-content>
